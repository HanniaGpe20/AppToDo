<div class="container mt-5">
  <!-- Título -->
  <div class="text-center mb-4">
    <h1 class="display-5 text-primary">Gestión de Tareas</h1>
    <p class="text-secondary">Organiza tus tareas diarias de manera eficiente</p>
  </div>

  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <style>
    .error-message {
      color: red;
      margin-top: 10px;
    }
  </style>
   <!-- Formulario para Agregar o Editar Tareas -->
   <div class="card shadow-sm mb-4">
    <div class="card-body">
      <form class="row g-3">
        <div class="col-md-5">
          <input [(ngModel)]="newTask.nombre" class="form-control" placeholder="Nombre de la tarea" name="nombre" required />
        </div>
        <div class="col-md-3">
          <input [(ngModel)]="newTask.fechaInicio" type="date" class="form-control" name="fechaInicio" required />
        </div>
        <div class="col-md-2">
          <select [(ngModel)]="newTask.estatus" class="form-select" name="estatus">
            <option>Pendiente</option>
            <option>Completada</option>
          </select>
        </div>
       

        <div class="col-md-2">
          
          <button type="button" class="btn btn-primary w-100" (click)="PostTask()">Agregar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Lista de Tareas -->
  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
      <h5 class="mb-0">Lista de Tareas</h5>
    </div>
    <ul class="list-group list-group-flush">
      <li class="list-group-item d-flex justify-content-between align-items-center" *ngFor="let task of Tasks">
        <div>
          <strong>{{ task.nombre }}</strong>
          <br />
          <small class="text-muted">{{ task.fechaInicio }}</small>
          <span class="badge bg-info text-dark ms-2" *ngIf="task.estatus === 'Pendiente'">Pendiente</span>
          <span class="badge bg-success ms-2" *ngIf="task.estatus === 'Completada'">Completada</span>
        </div>
        <button class="btn btn-warning btn-sm" (click)="PutTask(task)">Completada</button>
        <button class="btn btn-danger btn-sm" (click)="DeleteTask(task.id)">Eliminar</button>
      </li>
    </ul>
  </div>


</div>
